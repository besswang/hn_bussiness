{"version":3,"sources":["webpack:///src/components/page/deal/list1.vue","webpack:///./src/components/page/deal/list1.vue?9818","webpack:///./src/components/page/deal/list1.vue"],"names":["list1","Array","el-row","a","el-col","lib_col_default","el-button","lib_button_default","el-form","lib_form_default","el-form-item","lib_form_item_default","el-input","lib_input_default","el-select","lib_select_default","el-option","lib_option_default","el-dialog","lib_dialog_default","required","message","trigger","kuaidiName","val","id","itemid","resetFields","_this2","this","listid","time","kuaidisListFn","then","response","data","catch","error","_this3","orderGoodsIds","currentExpress","sendid","updateTime","name","trans","msg","_this4","deal_list1","render","_vm","_h","$createElement","_c","_self","staticClass","_l","title","i","key","attrs","width","_v","_s","item","span","orderNumber","addTime","list","index","src","goodsImage","alt","height","staticStyle","display","white-space","word-warp","word-break","line-height","type","on","click","$event","detail","goodsId","goodsName","domProps","textContent","price","goodsNum","statusFn","status","directives","rawName","value","expression","refundInfo","orderState","orderGoodsList","rowspan","length","buyerName","_e","paymentName","orderAmount","tradeStatus","payState","margin-top","size","preventDefault","send","margin","goDetail","padding-top","logistics","kuaidiId","shippingCode","orderMessage","visible","sendFormVisible","update:visible","ref","model","form","rules","label","label-width","formLabelWidth","prop","change","formstocksF","callback","$$v","$set","express","auto-complete","focus","slot","sendCancel","disabled","sendDisabled","sendOk","refundSendVis","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.231282eb69e36252fab3.js","sourcesContent":["<template>\n  <div class=\"list1\">\n    <div class=\"table-con\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th :width=\"i==0?300:100\" v-for=\"(title,i) in columns\" :key=\"i\">{{title}}</th>\n          </tr>\n        </thead>\n      </table>\n    </div>\n    <div v-for=\"(item,key) in listData\" :key=\"key\" class=\"tableData3\">\n      <el-row class=\"list-header\">\n        <el-col :span=\"14\"><p class=\"list-col\">订单编号：{{item.orderNumber}}</p></el-col>\n        <el-col :span=\"6\"><p class=\"list-col\">创建时间：{{item.addTime}}</p></el-col>\n        <el-col :span=\"4\">\n          <!-- <el-button type=\"primary\" size=\"mini\" style=\"margin-left:80px;\" @click.prevent=\"goDetail(item.id)\">查看订单</el-button> -->\n        </el-col>\n      </el-row>\n      <table class=\"listtable\">\n        <tbody>\n          <tr v-for=\"(list,index) in item.orderGoodsList\" :key=\"index\">\n            <td width=\"300\">\n              <div class=\"flex flex-row flex-align-center pro-info\">\n                <img :src=\"list.goodsImage\" alt=\"\" width=60 height=60>\n                <div style=\"display:block;width:100%;\">\n                  <el-button\n                  style=\"white-space:normal;word-warp:break-word;word-break:break-all;line-height:26px\"\n                  type=\"text\"\n                  @click=\"detail(list.goodsId)\">{{list.goodsName}}</el-button>\n                  <!-- <p size=\"mini\">{{statusFn(list.status)}}</p> -->\n                </div>\n                <!-- <p class=\"proname\">{{list.proname}}</p> -->\n              </div>\n            </td>\n            <td width=\"100\" v-text=\"list.price\"></td>\n            <td width=\"100\" v-text=\"list.goodsNum\"></td>\n            <td width=\"100\">\n              {{statusFn(list.status)}}\n              <el-button v-show=\"list.status==3\" type=\"text\" @click=\"refundInfo(list.id,item.orderState,item.orderGoodsList)\">请卖家处理</el-button>\n              <el-button v-show=\"list.status==4\" type=\"text\" @click=\"refundInfo(list.id,null,null)\">退款成功</el-button>\n              <el-button v-show=\"list.status==5\" type=\"text\" @click=\"refundInfo(list.id,null,null)\">已退款</el-button>\n            </td>\n            <td width=\"100\" v-text=\"item.buyerName\" :rowspan=\"item.orderGoodsList.length\" v-if=\"index==0\"></td>\n            <td width=\"100\" v-text=\"item.paymentName\" :rowspan=\"item.orderGoodsList.length\" v-if=\"index==0\"></td>\n            <td width=\"100\" v-text=\"item.orderAmount\" :rowspan=\"item.orderGoodsList.length\" v-if=\"index==0\"></td>\n            <td width=\"100\" :rowspan=\"item.orderGoodsList.length\" v-if=\"index==0\">\n              <p v-if=\"item.tradeStatus==-10\">交易取消</p>\n              <p v-else-if=\"item.tradeStatus==20&&item.orderState!=-1&&item.orderState!=1&&list.status!=3&&list.status!=1\">交易完成</p>\n              <!-- 交易状态：tradeStatus{10:默认,20:交易完成,-10:交易取消} -->\n              <!-- 订单状态:item.orderState{-1:待发货;1:已发货;2:已收货;'} -->\n              <!-- 付款状态:{10(默认):未付款;20:已付款;-10:取消;} -->\n              <!-- 状态:list.status{0-无状态 2-已收货 3-退款中 4-退款完成5-确认打款'} -->\n              <div v-else>\n                      <!-- <p>{{orderStateFn(item.orderState)}} {{payState(item.payState)}}</p> -->\n                      <el-button v-show=\"item.orderState==-1&&item.payState!=-10&&item.payState!=10\" type=\"primary\" size=\"mini\" style=\"margin-top:15px;\"\n                      @click.prevent=\"send(item.id,item.updateTime,item.orderGoodsList)\">发货</el-button>\n              </div>\n              <!-- <p>{{orderStateFn(item.orderState)}} {{payState(item.payState)}}</p> -->\n              <!-- <el-button v-show=\"item.orderState==-1&&item.payState!=-10?true:false\" type=\"primary\" size=\"mini\" style=\"margin-top:15px;\" @click.prevent=\"send(item.id,item.updateTime,item.orderGoodsList)\">发货</el-button> -->\n              <el-button style=\"margin:0 auto\" type=\"text\" @click.prevent=\"goDetail(item.id)\">订单详情</el-button>\n              <el-button style=\"margin:0 auto;padding-top:0\" type=\"text\"\n              v-if=\"item.tradeStatus!=-10&&item.orderState!=-1\"\n              @click.prevent=\"logistics(item.kuaidiId,item.shippingCode,item.kuaidiName)\">物流详情</el-button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <p class=\"leave-message text-left\"><span>留言：{{item.orderMessage}}</span></p>\n    </div>\n\n    <el-dialog title=\"订单发货\" :visible.sync=\"sendFormVisible\">\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\n        <el-form-item label=\"快递\" :label-width=\"formLabelWidth\" prop=\"currentExpress\">\n          <el-select v-model=\"form.currentExpress\" @change=\"formstocksF\">\n            <el-option\n            v-for=\"(express,key) in kuaidisList\"\n            :key=\"key\"\n            :value=\"express.name\">\n            </el-option>\n            <!-- <el-option label=\"区域一\" value=\"shanghai\"></el-option>\n            <el-option label=\"区域二\" value=\"beijing\"></el-option> -->\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"物流单号\" :label-width=\"formLabelWidth\" prop=\"name\">\n          <el-input v-model=\"form.name\" auto-complete=\"off\" @focus=\"formstocksF\" type=\"number\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"sendCancel('form')\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"sendOk('form')\" :disabled=\"sendDisabled\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <!-- 如果订单中有退货中的商品，需要弹出提示 -->\n    <el-dialog :visible.sync=\"refundSendVis\">\n      <p>本订单中的部分宝贝，买家已经提交退款申请，进行发货操作将撤销订单中所有退款，是否继续</p>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"refundSendVis=false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"kuaidisListFn()\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n\n<script>\nimport { Row,Col,Button,Form,FormItem,Input,Select,Option,Dialog} from 'element-ui'\nexport default {\n  name: 'list1',\n  props:{\n    listData:Array,\n    columns:Array\n  },\n  components: {\n    'el-row':Row,\n    'el-col':Col,\n    'el-button':Button,\n    'el-form':Form,\n    'el-form-item':FormItem,\n    'el-input':Input,\n    'el-select':Select,\n    'el-option':Option,\n    'el-dialog':Dialog\n  },\n  data () {\n    return {\n      orderGoodsIds:[],//每个订单下商品id集合\n      refundSendVis:false,//订单中有退款的发货弹窗\n      sendDisabled:false,//弹窗确定按钮禁用\n        updateTime:'',//上次更新时间\n        kuaidisList:[],\n        sendFormVisible:false,//发货弹窗开关\n        form:{\n            name:'',//物流单号\n            currentExpress:''//快递id\n        },\n        rules: {\n          currentExpress:[\n            { required: true, message: '请选择快递', trigger: 'blur' }\n          ],\n          name: [\n            { required: true, message: '请输入物流单号', trigger: 'blur' }\n            // { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n          ]\n        },\n        formLabelWidth:'120px',\n        sendid:'',//发货id\n    }\n  },\n  created () {\n       this.$store.state.adminleftnavnum=\"/order_list\"; //设置左侧导航active\n  },\n  mounted(){\n\n  },\n  methods: {\n    //物流详情\n    logistics(id,postId,kuaidiName){\n      this.$router.push({path:'/logistics_detail',query:{id:id,postId:postId,kuaidiName:kuaidiName}})\n    },\n    statusFn(val){\n      switch (val) {\n          case 3://请卖家处理\n              return \"\"\n              break;\n          case 0:\n              return \"\"\n              break;\n          case 2:\n              return \"已收货\"\n              break\n          case 4://退款成功\n              return \"\"\n              break\n      }\n    },\n    formstocksF(){\n      this.sendDisabled = false;\n    },\n    //发货状态：-1:待发货;1:已发货;2:已收货;\n    orderStateFn(flag){\n        if(flag == -1){\n          return \"\"//显示发货按钮\n        }else if(flag == 1){\n          return \"已发货\"\n        }else{\n          return \"已收货\"\n        }\n    },\n    //付款状态：10(默认):未付款;20:已付款;-10:取消;\n    payState(flag){\n      if(flag == 10){\n        return \"未付款\"//显示付款按钮\n      }else if(flag == 20){\n        return \"已付款\"\n      }else if(flag == -10){\n        return \"已取消\"\n      }\n    },\n    //商品页面\n    detail(id){\n      window.open(process.env.businessHost.host+'/'+process.env.businessHost.projectName+'/#/goods_detail?id='+id)\n    },\n    //查看订单\n    goDetail(itemid){\n      this.$router.push({path: '/order_detail', query: {id: itemid}});\n    },\n    //发货表单重置\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    sendCancel(formName){\n      this.sendFormVisible=false\n      this.refundSendVis=false\n      this.form.name=''\n      this.form.currentExpress = ''\n      this.$refs[formName].resetFields();\n    },\n    //发货\n    send(listid,time,item){\n      this.orderGoodsIds = []\n      this.sendid = listid;\n      this.updateTime = time\n      item.forEach(el =>{\n        if(el.status!=4 && el.status!=5){\n          this.orderGoodsIds.push(el.id)\n        }\n      })\n      let obj={}\n      obj = item.find((el) => {\n        return el.status == 3\n      })\n      // Object.keys(obj).length==0\n      if(!obj || obj==null){//状态为3的对象是空的\n        this.kuaidisListFn()\n      }else{\n        this.refundSendVis = true\n      }\n    },\n    //发货弹窗\n    kuaidisListFn(){\n      let _this = this\n      this.sendDisabled = false;\n      this.sendFormVisible = true;\n      this.form.name=''\n      this.form.currentExpress = ''\n      //获取快递名称\n      this.$axios.post(this.$$jk.kuaidisList,{})\n      .then(function(response){\n          if(response.data.code == \"SUCCESS\"){\n              _this.kuaidisList = response.data.data\n          }\n      })\n      .catch(function(error){\n\n      })\n\n    },\n    //发货-确定\n    sendOk(formName){\n      this.sendDisabled = true\n      let _this = this\n      let orderGoodsIds = this.orderGoodsIds.join(\",\")\n      console.log(orderGoodsIds)\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let kuaidi= this.kuaidisList.filter(item => item.name == this.form.currentExpress)\n          let trans = {\n              orderSubsId:this.sendid,\n              orderState:1,\n              updateTime:this.updateTime,\n              kuaidiId:kuaidi[0].id,\n              shippingCode:this.form.name,\n              orderGoodsIds:orderGoodsIds\n          }\n          console.log(trans)\n          //调快递单号接口\n          this.$axios.post(this.$$jk.merchantGetDataByid,{id:kuaidi[0].id,postId:this.form.name})\n          .then(function(response){\n              if(response.data.code == \"SUCCESS\"){\n                  let r = JSON.parse(response.data.data)\n                  console.log(r.message)\n                  if(r.message == \"ok\"){\n                    _this.sendFormVisible = false;\n                    _this.refundSendVis = false;\n                    _this.$emit(\"send-ok\",trans)\n                  }else{\n                    let msg\n                    if(r.status == 201){\n                        // msg = r.message\n                      msg = '快递公司选择错误'\n                    }else{\n                      // msg = \"物流单号：\"+r.message\n                      msg = '物流单号填写错误'\n                    }\n                    _this.$message({\n                      message:msg,\n                      type:'warning'\n                    })\n                    return false;\n                  }\n              }\n          })\n          .catch(function(error){\n\n          })\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    //退款详情，退款处理\n    refundInfo(id,orderState,item){\n      let _this = this\n      if(orderState==-1){\n        this.orderGoodsIds = []\n        item.forEach(el =>{\n          this.orderGoodsIds.push(el.id)\n        })\n        let orderGoodsIds = this.orderGoodsIds.join(\",\")\n        this.$router.push({\n          path: '/refund_detail',\n          query: {\n            orderGoodId:id,\n            orderGoodsIds:orderGoodsIds\n          }\n        })\n      }else{\n        this.$router.push({\n          path: '/refund_detail',\n          query: {\n            orderGoodId:id\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.table-con{\n  background:#fff;\n  padding:0 15px;\n}\n.leave-message{\n  padding:12px;\n  border:1px solid #dbeeff;\n  border-top:none;\n}\n.leave-message>span{\n  color:#ff4545;\n}\n.order-num{\n  padding-bottom:10px;\n}\n.table-con{\n  padding:0 15px;\n}\n.table,.listtable{\n    width: 100%;\n    max-width: 100%;\n    border-spacing: 0;\n    border-collapse: collapse;\n    text-align:center;\n}\n.table>thead>tr>th{\n  padding:12px 0;\n  background:#f9f9f9;\n}\n.tableData3{\n  background:#fff;\n  padding:15px;\n}\n.proname{\n  padding-left:12px;\n}\n/* .el-table__fixed-header-wrapper {\n    display:none;\n} */\n.list-header{\n  padding:10px 12px;\n  background:#f2f9ff;\n  border:1px solid #dbeeff;\n  border-bottom:0;\n}\n.list-header .list-col{\n  line-height:30px;\n}\n.tableData3 .listtable>tbody>tr>td{\n    border:1px solid #dbeeff;\n}\n.tableData3 .listtable:nth-child(odd)>tbody>tr>td{\n  border-top:0;\n}\n.pro-info{\n  padding:12px;\n}\n.pro-info>img{\n  height:50px;\n  max-width:50px;\n}\n</style>\n<style lang=\"less\">\n// .el-loading-parent--relative{\n//   .el-loading-mask{\n//     .el-loading-spinner{\n//       top:10%;\n//     }\n//   }\n// }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/deal/list1.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list1\"},[_c('div',{staticClass:\"table-con\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',_vm._l((_vm.columns),function(title,i){return _c('th',{key:i,attrs:{\"width\":i==0?300:100}},[_vm._v(_vm._s(title))])}))])])]),_vm._v(\" \"),_vm._l((_vm.listData),function(item,key){return _c('div',{key:key,staticClass:\"tableData3\"},[_c('el-row',{staticClass:\"list-header\"},[_c('el-col',{attrs:{\"span\":14}},[_c('p',{staticClass:\"list-col\"},[_vm._v(\"订单编号：\"+_vm._s(item.orderNumber))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('p',{staticClass:\"list-col\"},[_vm._v(\"创建时间：\"+_vm._s(item.addTime))])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}})],1),_vm._v(\" \"),_c('table',{staticClass:\"listtable\"},[_c('tbody',_vm._l((item.orderGoodsList),function(list,index){return _c('tr',{key:index},[_c('td',{attrs:{\"width\":\"300\"}},[_c('div',{staticClass:\"flex flex-row flex-align-center pro-info\"},[_c('img',{attrs:{\"src\":list.goodsImage,\"alt\":\"\",\"width\":\"60\",\"height\":\"60\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"block\",\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"white-space\":\"normal\",\"word-warp\":\"break-word\",\"word-break\":\"break-all\",\"line-height\":\"26px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.detail(list.goodsId)}}},[_vm._v(_vm._s(list.goodsName))])],1)])]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"100\"},domProps:{\"textContent\":_vm._s(list.price)}}),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"100\"},domProps:{\"textContent\":_vm._s(list.goodsNum)}}),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"100\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.statusFn(list.status))+\"\\n            \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(list.status==3),expression:\"list.status==3\"}],attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.refundInfo(list.id,item.orderState,item.orderGoodsList)}}},[_vm._v(\"请卖家处理\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(list.status==4),expression:\"list.status==4\"}],attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.refundInfo(list.id,null,null)}}},[_vm._v(\"退款成功\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(list.status==5),expression:\"list.status==5\"}],attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.refundInfo(list.id,null,null)}}},[_vm._v(\"已退款\")])],1),_vm._v(\" \"),(index==0)?_c('td',{attrs:{\"width\":\"100\",\"rowspan\":item.orderGoodsList.length},domProps:{\"textContent\":_vm._s(item.buyerName)}}):_vm._e(),_vm._v(\" \"),(index==0)?_c('td',{attrs:{\"width\":\"100\",\"rowspan\":item.orderGoodsList.length},domProps:{\"textContent\":_vm._s(item.paymentName)}}):_vm._e(),_vm._v(\" \"),(index==0)?_c('td',{attrs:{\"width\":\"100\",\"rowspan\":item.orderGoodsList.length},domProps:{\"textContent\":_vm._s(item.orderAmount)}}):_vm._e(),_vm._v(\" \"),(index==0)?_c('td',{attrs:{\"width\":\"100\",\"rowspan\":item.orderGoodsList.length}},[(item.tradeStatus==-10)?_c('p',[_vm._v(\"交易取消\")]):(item.tradeStatus==20&&item.orderState!=-1&&item.orderState!=1&&list.status!=3&&list.status!=1)?_c('p',[_vm._v(\"交易完成\")]):_c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.orderState==-1&&item.payState!=-10&&item.payState!=10),expression:\"item.orderState==-1&&item.payState!=-10&&item.payState!=10\"}],staticStyle:{\"margin-top\":\"15px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){$event.preventDefault();_vm.send(item.id,item.updateTime,item.orderGoodsList)}}},[_vm._v(\"发货\")])],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin\":\"0 auto\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.preventDefault();_vm.goDetail(item.id)}}},[_vm._v(\"订单详情\")]),_vm._v(\" \"),(item.tradeStatus!=-10&&item.orderState!=-1)?_c('el-button',{staticStyle:{\"margin\":\"0 auto\",\"padding-top\":\"0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.preventDefault();_vm.logistics(item.kuaidiId,item.shippingCode,item.kuaidiName)}}},[_vm._v(\"物流详情\")]):_vm._e()],1):_vm._e()])}))]),_vm._v(\" \"),_c('p',{staticClass:\"leave-message text-left\"},[_c('span',[_vm._v(\"留言：\"+_vm._s(item.orderMessage))])])],1)}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"订单发货\",\"visible\":_vm.sendFormVisible},on:{\"update:visible\":function($event){_vm.sendFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"快递\",\"label-width\":_vm.formLabelWidth,\"prop\":\"currentExpress\"}},[_c('el-select',{on:{\"change\":_vm.formstocksF},model:{value:(_vm.form.currentExpress),callback:function ($$v) {_vm.$set(_vm.form, \"currentExpress\", $$v)},expression:\"form.currentExpress\"}},_vm._l((_vm.kuaidisList),function(express,key){return _c('el-option',{key:key,attrs:{\"value\":express.name}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"物流单号\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\",\"type\":\"number\"},on:{\"focus\":_vm.formstocksF},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.sendCancel('form')}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.sendDisabled},on:{\"click\":function($event){_vm.sendOk('form')}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.refundSendVis},on:{\"update:visible\":function($event){_vm.refundSendVis=$event}}},[_c('p',[_vm._v(\"本订单中的部分宝贝，买家已经提交退款申请，进行发货操作将撤销订单中所有退款，是否继续\")]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.refundSendVis=false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.kuaidisListFn()}}},[_vm._v(\"确 定\")])],1)])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8a1b9052\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/deal/list1.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8a1b9052\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list1.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8a1b9052\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./list1.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list1.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list1.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8a1b9052\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list1.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8a1b9052\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/deal/list1.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}