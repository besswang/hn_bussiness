webpackJsonp([17],{Px3Q:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("woOf"),a=r.n(i),o=(r("8jhb"),r("+BTi"),r("RDoK")),l=r.n(o),s=(r("BNJR"),r("fDPO")),n=r.n(s),u=(r("I4nB"),r("STLj")),d=r.n(u),m=(r("cDSy"),r("e0Bm")),c=r.n(m),f=(r("X+ky"),r("HJMx")),p=r.n(f),h=(r("+Rdb"),r("Mezo")),F=r.n(h),g=(r("qunJ"),r("vqwl")),b=r.n(g),v=(r("M9yL"),r("OSLW")),k=r.n(v),_=(r("/i/W"),r("V1RD")),S=r.n(_),$=(r("GXEp"),r("mtrD")),w=r.n($),W=(r("jZDA"),r("91Nw")),x=r.n(W),y=(r("d7TW"),r("ajQY")),E=function(e,t,r){var i=void 0,a=void 0;t&&(a=(i=t.toString()).substring(1,0),console.log(a)),i?-1!=i.indexOf(".")&&i.substring(i.indexOf("."),i.length).length>3?r(new Error("最多保留两位小数的金额")):i<0?r(new Error("金额不能为负数")):0==a&&1!=i.indexOf(".")?r(new Error("请输入有效金额")):r():r(new Error("请填写默认金额/元"))},q=function(e,t,r){var i=void 0,a=void 0;t&&(a=(i=t.toString()).substring(1,0)),i?i<0?r(new Error("重量不能为负数")):/^\d+$/.test(i)?0==a?1!=i.indexOf(".")&&r(new Error("请输入有效金额")):r():r(new Error("重量必须为整数")):r(new Error("请填写重量/kg"))},I={name:"issue",components:{"el-row":r.n(y).a,"el-col":x.a,"el-button":w.a,"el-breadcrumb":S.a,"el-breadcrumb-item":k.a,"el-form":b.a,"el-form-item":F.a,"el-input":p.a,"el-select":c.a,"el-option":d.a,"el-radio-group":n.a,"el-radio":l.a},data:function(){return{disabledSave:!1,temTitle:"",temList:"",kuaidisList:[],ruleForm:{name:"",kuaidiId:"",firstWeight:"",firstFee:"",addedWeight:"",addedFee:"",isShow:1},rules:{name:[{required:!0,message:"请输入运费模板",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],kuaidiId:[{required:!0,message:"请选择快递名称",trigger:"blur"}],firstWeight:[{required:!0,validator:q,trigger:"blur"}],firstFee:[{required:!0,validator:E,trigger:"blur"}],addedWeight:[{required:!0,validator:q,trigger:"blur"}],addedFee:[{required:!0,validator:E,trigger:"blur"}]}}},created:function(){this.$store.state.adminleftnavnum="/freight_template"},mounted:function(){var e=this,t=this.$route.query;!t||null==t||t.id?(this.ruleForm.isShow=t.isShow,this.ruleForm.name=t.name,this.temTitle="编辑"+t.name,this.ruleForm.firstWeight=Number(t.firstWeight),this.ruleForm.firstFee=Number(t.firstFee),this.ruleForm.addedWeight=Number(t.addedWeight),this.ruleForm.addedFee=Number(t.addedFee),this.disabledSave=!1):(this.ruleForm.isShow=1,this.temTitle="新增运费模板"),this.$axios.post(this.$$jk.kuaidisList,{}).then(function(r){"SUCCESS"==r.data.code&&(e.kuaidisList=r.data.data,e.kuaidisList.forEach(function(r){t.kuaidiId&&r.id==t.kuaidiId&&(e.ruleForm.kuaidiId=r.name)}))}).catch(function(e){})},methods:{submitForm:function(e){var t=this,r=this,i=this.$route.query.id;console.log("2233"),console.log(i),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var o=t.kuaidisList.filter(function(e){return e.name==t.ruleForm.kuaidiId}),l={name:t.ruleForm.name,kuaidiId:Number(o[0].id),firstWeight:t.ruleForm.firstWeight,firstFee:t.ruleForm.firstFee,addedWeight:t.ruleForm.addedWeight,addedFee:t.ruleForm.addedFee,isShow:Number(t.ruleForm.isShow)};if(console.log(l),i){var s=a()({id:i},l);t.$axios.post(t.$$jk.update,s).then(function(e){"SUCCESS"==e.data.code&&r.$message({type:"success",message:"保存成功",onClose:function(){r.$router.go(-1)}})}).catch(function(e){})}else t.$axios.post(t.$$jk.contactsSave,l).then(function(e){"SUCCESS"==e.data.code&&r.$message({type:"success",message:"保存成功",onClose:function(){r.$router.go(-1)}})}).catch(function(e){})})},resetForm:function(e){this.$refs[e].resetFields()}}},N={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list"},[r("div",{staticClass:"source"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("商家中心")]),e._v(" "),r("el-breadcrumb-item",{attrs:{to:{path:"/freight_template"}}},[e._v("运费模板")]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s(e.temTitle))])],1)],1),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"expressForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"运费模板:",prop:"name"}},[r("el-col",{attrs:{span:12}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"快递名称:",prop:"kuaidiId"}},[r("el-col",{attrs:{span:12}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.ruleForm.kuaidiId,callback:function(t){e.$set(e.ruleForm,"kuaidiId",t)},expression:"ruleForm.kuaidiId"}},e._l(e.kuaidisList,function(e,t){return r("el-option",{key:t,attrs:{id:e.id,value:e.name}})}))],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"寄件方式:"}},[r("span",[e._v("按重量")])]),e._v(" "),r("el-form-item",{attrs:{label:"默认运费:"}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"firstWeight"}},[r("el-input",{attrs:{type:"Number"},model:{value:e.ruleForm.firstWeight,callback:function(t){e.$set(e.ruleForm,"firstWeight",t)},expression:"ruleForm.firstWeight"}},[r("template",{slot:"append"},[e._v("Kg内,")])],2)],1)],1),e._v(" "),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{prop:"firstFee"}},[r("el-input",{ref:"firstFee",attrs:{type:"Number"},model:{value:e.ruleForm.firstFee,callback:function(t){e.$set(e.ruleForm,"firstFee",t)},expression:"ruleForm.firstFee"}},[r("template",{slot:"append"},[e._v("元，")])],2)],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"每增加:",prop:"addedWeight"}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{type:"Number"},model:{value:e.ruleForm.addedWeight,callback:function(t){e.$set(e.ruleForm,"addedWeight",t)},expression:"ruleForm.addedWeight"}},[r("template",{slot:"append"},[e._v("Kg，")])],2)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"增加运费:",prop:"addedFee"}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{type:"Number"},model:{value:e.ruleForm.addedFee,callback:function(t){e.$set(e.ruleForm,"addedFee",t)},expression:"ruleForm.addedFee"}},[r("template",{slot:"append"},[e._v("元。")])],2)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用:"}},[r("el-radio-group",{model:{value:e.ruleForm.isShow,callback:function(t){e.$set(e.ruleForm,"isShow",t)},expression:"ruleForm.isShow"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),r("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",disabled:e.disabledSave},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存并返回")]),e._v(" "),r("el-button",{attrs:{type:"warning"},on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")]),e._v(" "),r("router-link",{staticStyle:{color:"#fff"},attrs:{to:"/freight_template"}},[r("el-button",{attrs:{type:"info"}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var C=r("VU/8")(I,N,!1,function(e){r("gkqu")},"data-v-76aeab9e",null);t.default=C.exports},gkqu:function(e,t){}});
//# sourceMappingURL=17.c231f2562369bd7b1042.js.map